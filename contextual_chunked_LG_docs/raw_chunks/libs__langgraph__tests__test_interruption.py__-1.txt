import pytest
from typing_extensions import TypedDict

from langgraph.graph import END, START, StateGraph
from tests.conftest import (
    REGULAR_CHECKPOINTERS_ASYNC,
    REGULAR_CHECKPOINTERS_SYNC,
    awith_checkpointer,
)