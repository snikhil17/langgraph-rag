"""Get checkpoint ID in a backwards-compatible manner (fallback on thread_ts)."""
def get_checkpoint_id(config: RunnableConfig) -> Optional[str]:

    return config["configurable"].get(
        "checkpoint_id", config["configurable"].get("thread_ts")
    )