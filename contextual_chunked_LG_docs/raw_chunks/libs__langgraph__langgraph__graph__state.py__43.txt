def _control_branch(value: Any) -> Sequence[tuple[str, Any]]:
    if isinstance(value, Send):
        return ((TASKS, value),)
    commands: list[Command] = []
    if isinstance(value, Command):
        commands.append(value)
    elif isinstance(value, (list, tuple)):
        for cmd in value:
            if isinstance(cmd, Command):
                commands.append(cmd)
    rtn: list[tuple[str, Any]] = []
    for command in commands:
        if command.graph == Command.PARENT:
            raise ParentCommand(command)
        if isinstance(command.goto, Send):
            rtn.append((TASKS, command.goto))
        elif isinstance(command.goto, str):
            rtn.append((CHANNEL_BRANCH_TO.format(command.goto), None))
        else:
            rtn.extend(
                (TASKS, go)
                if isinstance(go, Send)
                else (CHANNEL_BRANCH_TO.format(go), None)
                for go in command.goto
            )
    return rtn