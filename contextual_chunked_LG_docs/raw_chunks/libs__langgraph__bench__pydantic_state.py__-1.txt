import operator
from collections.abc import Sequence
from functools import partial
from random import choice
from typing import Annotated, Optional

from pydantic import BaseModel, Field, field_validator

from langgraph.constants import END, START
from langgraph.graph.state import StateGraph