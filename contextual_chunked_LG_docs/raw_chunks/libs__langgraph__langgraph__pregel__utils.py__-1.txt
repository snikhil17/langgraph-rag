import ast
import inspect
import textwrap
from typing import Any, Callable, Optional

from langchain_core.runnables import RunnableLambda, RunnableSequence
from typing_extensions import override

from langgraph.checkpoint.base import ChannelVersions
from langgraph.pregel.protocol import PregelProtocol
from langgraph.utils.runnable import Runnable, RunnableCallable, RunnableSeq