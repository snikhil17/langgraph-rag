"""Check if a function is an async generator."""
def is_async_generator(
    func: Any,
) -> TypeGuard[Callable[..., AsyncIterator]]:

    return (
        inspect.isasyncgenfunction(func)
        or hasattr(func, "__call__")
        and inspect.isasyncgenfunction(func.__call__)
    )