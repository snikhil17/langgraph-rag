def test_runnable_prompt():
    prompt = RunnableLambda(
        lambda state: [HumanMessage(content=f"Baz {state['messages'][-1].content}")]
    )

    for agent in (
        create_react_agent(FakeToolCallingModel(), [], prompt=prompt),
        create_react_agent(FakeToolCallingModel(), [], state_modifier=prompt),
    ):
        inputs = [HumanMessage("hi?")]
        response = agent.invoke({"messages": inputs})
        expected_response = {
            "messages": inputs + [AIMessage(content="Baz hi?", id="0")]
        }
        assert response == expected_response